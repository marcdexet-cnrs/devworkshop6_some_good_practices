== 04_think_small_and_modular.adoc

//tag::include[]


[.subsection.background]
[.center]
[%notitle]
== Small Is Beautiful

[.big]#{chapter_name} - Part {counter:design_counter:1}#

[.huge]#Small Is Beautiful#


== Small Is Beautiful

Limit the required scope to take into account.

Good practices disapprove :

[.dark.background]
[.center]
== God Class-Module-Function

image::images/marc/writing-god.svg[]

image::https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Sky_August_2010-1a.jpg/1024px-Sky_August_2010-1a.jpg[background]

[transition=fade]
== God Class-Module-Function

[.at-top-right]
image::images/marc/writing-god.svg[]

God Class-Module-Function

* knows everything,
* does everything,
* influence every aspect of the software


[transition=fade]
== God Class-Module-Function

[.at-top-right]
image::images/marc/writing-god_2.svg[]

God Class-Module-Function

* but if it failed...

== Make Small Code Units

Try to make

* Small functions -> a few tens of lines (30 max ?)
* Small classes/modules
** -> a few tens of methods (30 max ?)
** -> a few hundreds of lines (300 max ?)
* Small packages -> a few tens items (30 max ?)

Aka the _Rule of 30_


== Make Small Signature

[source,python]
----
def identify(x,y,z,h,m,s,model):
	...
----

[source,python]
----
what_is_this = identify(2.456,-1.4,8.0,7,6,32,'plane')
----

[.fragment]
--
'''
[source,python]
----
def identify(position,time,model):
	...
----
--


[.fragment]
--
[source,python]
----
position = Position(2.456, -1.4, 8.0)
time = Time(7,6,32)

what_is_this = identify(position, time, 'plane')
----
--


[transition=fade]
== tsam 14.a

[.center]
--
In fact, we need to extract block as function in order to handle them.
--

[.center]
--
image::images/marc/writing-think-modular_14.a.svg[]
--



[transition=fade]
== tsam 14
[.left-column.center]
--
image::images/marc/writing-think-modular_14.svg[]
--

[.right-column]
--
How do we break a plain old bunch of code lines down into external functions ?
--

[transition=fade]
== tsam 15
[.left-column.center]
--
image::images/marc/writing-think-modular_15.svg[]
--

[.right-column]
--
The comments my friend ! +
The comments...

They tell to your brain what the stack of code lines is doing.

They _translate_ code to human world.
--

[transition=fade]
== tsam 16
[.left-column.center]
--
image::images/marc/writing-think-modular_16.svg[]
--

[.right-column]
--
They often separate _de facto_ blocks.
--


[transition=fade]
== tsam 16

[.center]
--
With a few modification, from a block you get a function easily.
--

[.center]
--
image::images/marc/writing-think-modular_16.1.svg[]
--

[transition=fade]
== tsam 17
[.left-column.center]
--
image::images/marc/writing-think-modular_17.svg[]
--

[.right-column]
--
Illustration with the burger recipe !
--


[transition=fade]
== tsam 18
[.left-column.center]
--
image::images/marc/writing-think-modular_18.svg[]
--

[.right-column]
--

--


[transition=fade]
== tsam 19
[.left-column.center]
--
image::images/marc/writing-think-modular_19.svg[]
--

[.right-column]
--
Your recipe must have comments to remember what are we doing.
--


[transition=fade]
== tsam 20
[.left-column.center]
--
image::images/marc/writing-think-modular_20.svg[]
--

[.right-column]
--
From each comment, build a _meaningful_ function name !
--

[transition=fade]
== tsam 20.1
[center]
--
image::images/marc/writing-think-modular_20.1.svg[]
--

[.center]
--
Move code block to a new definition named after _meaningful_ function name you found.

Modify a litle bit the code to isolate it.

(i.e no external dependencies, only parameters)
--


[transition=fade]
== tsam 20.2
[.center]
--
image::images/marc/writing-think-modular_20.2.svg[]
--

[.center]
--
The same with the next block.
--

[transition=fade]
== tsam 21


[.center]
--
At the end yo have a well defined architecture.
--

[.center]
image::images/marc/writing-think-modular_21.svg[]


//end::include[]
