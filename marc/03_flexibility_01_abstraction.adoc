== 03 Flexibility Abstraction

//tag::include[]


[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_0.svg[width=200]
--

[.right-column]
--
A component of type *A* _uses_ +
a component of type *B*.

This is a *_dependency_* between *A* and *B*.
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_1.svg[width=200]
--

[.right-column]
--
If *B* changes, *A* is certainly forced to _adapt_.
--


[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_propagation_0.svg[]
--

[.fragment]
[.right-column]
[.center]
--
image::images/marc/flexibility-bound2interface_propagation_1.svg[]
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_2.svg[width=200]
--

[.right-column]
--

Do not _bound_ *A*  +
*to* what dependency [.big]#*is*#, +
but *to* what it [.big]#*offers*#.

[.fragment]
A kind of [.big]#*contract*# describing *only* +
*WHAT* it *does*.
--


[transition=fade]
== Only take contract into account



[.left-column]
--
image::images/marc/browser_contract.gif[]
--


[.right-column]
[.center]
--
* "Browser" contract
** _Fetch a content on internet given a valid URL_
** _Display content using HTML_
** _Submit valid HTTP form to a given URL_
** _Bookmark favorites_
** ...
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_3.svg[width=200]
--

[.right-column]
--
So as long as the component +
*_respects_* the contract, +
it could be _anything_.

Dependency *implements* the contract.
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_4.svg[width=200]
--

[.right-column]
--
So as long as the component +
*_respects_* the contract, +
it could be modified.

We don't care...
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_5.svg[width=200]
--

[.right-column]
--
But if contract changes, +
both of them have to change.
--


[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_5bis.svg[width=200]
--

[.right-column]
--
From the *A* point of view, +
*only* _B contract_ exists.


The contrat is a [.huge]#interface#.
--


[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_6.svg[width=400]
--

[.right-column]
--
Illustration with a Camera Operator _using_ a camera of Fony Inc.
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_7.svg[width=400]
--

[.right-column]
--
If camera changes _Camera Operator_ has certainly to _be adapted_.
--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_8.svg[width=400]
--

[.right-column]
--
As there's a lot of camera models, +
the better is to relate to a +
_camera contract_ instead of a _camera model_.



--

[transition=fade]
== Only take contract into account


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_9.svg[width=400]
--

[.right-column]
--
So as long as it +
_implements_ the required *interface*, +
camera could change...


We don't care.
--



[transition=fade]
== Only take into account contract


[.left-column]
[.center]
--
image::images/marc/flexibility-bound2interface_10.svg[width=400]
--

[.right-column]
--
We could make tests
of _Camera Operator_ +
without *hacking* a real camera.

Just use a _mock_ Camera implementing _Camera Interface_.
--


[%notitle]
[.center]
== Conclusion Of Abstraction

[.huge]
--
To get _flexibility_ +
be bound +
to *contract* (interface), +
not implementation.
--


[NOTE.notes]
--
* In real life
** If you have a very simple dependency, don't bother with interface.
** Use *interfaces*
*** when there's several implementations,
*** _or_ delicat, complexe, heavy dependencies,
*** _or_ depenceny is hard to mock in tests.
--

//end::include[]
